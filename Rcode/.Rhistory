tsDir = "C:\Users\icrandell\Documents\GitHub\COVID-19\csse_covid_19_data\csse_covid_19_time_series"
library(data.table)
library(tidyr)
tsDir = "C:\Users\icrandell\Documents\GitHub\COVID-19\csse_covid_19_data\csse_covid_19_time_series"
install.packages("data.table")
tsDir = "C:\Users\icrandell\Documents\GitHub\COVID-19\csse_covid_19_data\csse_covid_19_time_series"
time_series_19.covid.Confirmed <- read.csv("~/GitHub/COVID-19/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv", header=FALSE, stringsAsFactors=FALSE)
View(time_series_19.covid.Confirmed)
covid19Timeseries = fread("~/GitHub/COVID-19/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv")
library(data.table)
covid19Timeseries = fread("~/GitHub/COVID-19/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv")
rm(time_series_19.covid.Confirmed)
str(covid19Timeseries)
italy = covid19Timeseries[`Country/Region` == "italy"]
italy = covid19Timeseries[`Country/Region` == "Italy"]
italy
italy = covid19Timeseries[`Country/Region` == "Italy", -c(1:3)]
italy
italy = covid19Timeseries[`Country/Region` == "Italy", -c(1:4)]
italy
covid19Timeseries$`Country/Region`
covid19Timeseries$`Country/Region` %?% osrt
covid19Timeseries$`Country/Region` %?% sort
covid19Timeseries$`Country/Region` %>% sort
covid19Timeseries
covid19Timeseries$`Country/Region` %>% sort
covid19Timeseries[`Country/Region` == "US"]
usa = covid19Timeseries[`Country/Region` == "US", -c(1:4)] %>% colSums()
usa
italy = covid19Timeseries[`Country/Region` == "Italy", -c(1:4)] %>% colSums
usa = covid19Timeseries[`Country/Region` == "US", -c(1:4)] %>% colSums
plot(days, italy, type = 'l', col  = "red")
days = 1:58
plot(days, italy, type = 'l', col  = "red")
lines(days, usa, type = 'b', col= "blue")
plot(days, italy, type = 'b', col  = "red")
lines(days, usa, type = 'b', col= "blue")
legend(legend = c("Italy", "USA"), color = c("red", "blue"))
legend(legend = c("Italy", "USA"), col = c("red", "blue"))
italyPop = 60.48
usaPop = 327
plot(days, italy/italyPop, type = 'b', col  = "red")
lines(days, usa/usaPop, type = 'b', col= "blue")
legend(legend = c("Italy", "USA"), col = c("red", "blue"))
italyPop = 60.48
usaPop = 327
plot(days, italy/italyPop, type = 'b', col  = "red")
lines(days, usa/usaPop, type = 'b', col= "blue")
italy
usa
plot(days, log(italy/italyPop + 1), type = 'b', col  = "red")
lines(days, log(usa/usaPop + 1), type = 'b', col= "blue")
plot(days, log(italy + 1), type = 'b', col  = "red")
lines(days, log(usa + 1), type = 'b', col= "blue")
italyTrunc = log(italy[-c(1:25)])
usaTrunk = log(usa[-c(1:25)])
plot(days, italyTrunc, type = 'b', col  = "red")
lines(days,usaTrunk, type = 'b', col= "blue")
usaTrunk
plot(days[-c(1:25)], italyTrunc, type = 'b', col  = "red")
lines(days[-c(1:25)],usaTrunk, type = 'b', col= "blue")
italyTrunc = log(italy[-c(1:30)])
usaTrunk = log(usa[-c(1:30)])
daysTrunk = days[-c(1:30
italyTrunc = log(italy[-c(1:30)])
usaTrunc = log(usa[-c(1:30)])
daysTrunc = days[-c(1:30)]
plot(daysTrunc, italyTrunc, type = 'b', col  = "red")
lines(daysTrunc,usaTrunc, type = 'b', col= "blue")
plot(daysTrunc, italyTrunc, type = 'b', col  = "red", ylim = c(0. 15))
lines(daysTrunc,usaTrunc, type = 'b', col= "blue")
plot(daysTrunc, italyTrunc, type = 'b', col  = "red", ylim = c(0, 15))
lines(daysTrunc,usaTrunc, type = 'b', col= "blue")
italyLm = lm(days ~ italyTrunc)$coef %>% print
italyLm = lm(daysTrunc ~ italyTrunc)$coef %>% print
italyLm = lm(daysTrunc ~ usaTrunc)$coef %>% print
italyLm = lm(daysTrunc ~ italyTrunc)$coef %>% print
usaLm = lm(daysTrunc ~ usaTrunc)$coef %>% print
exp(13.26)
italy[30]
daysTrunc
daysTrunc = days[-c(1:30)] - 30
plot(daysTrunc, italyTrunc, type = 'b', col  = "red", ylim = c(0, 15))
lines(daysTrunc,usaTrunc, type = 'b', col= "blue")
italyLm = lm(daysTrunc ~ italyTrunc)$coef %>% print
usaLm = lm(daysTrunc ~ usaTrunc)$coef %>% print
exp(-8.55)
italy[30]
italyLm
italyLm[1]
abline(italyLm)
italyTrunc = log(italy[-c(1:30)])
usaTrunc = log(usa[-c(1:30)])
daysTrunc = days[-c(1:30)] - 30
plot(daysTrunc, italyTrunc, type = 'b', col  = "red", ylim = c(0, 15))
lines(daysTrunc,usaTrunc, type = 'b', col= "blue")
italyLm = lm(daysTrunc ~ italyTrunc)$coef %>% print
usaLm = lm(daysTrunc ~ usaTrunc)$coef %>% print
abline(italyLm)
log(italy[-c(1:30)])
lm(daysTrunc ~ italyTrunc)
daysTrunc
italyTrunc
italyLm = lm(italyTrunc ~ daysTrunc)$coef %>% print
usaLm = lm(usaTrunc ~ daysTrunc)$coef %>% print
abline(italyLm)
plot(daysTrunc, italyTrunc, type = 'b', col  = "red", ylim = c(0, 15))
lines(daysTrunc,usaTrunc, type = 'b', col= "blue")
italyLm = lm(italyTrunc ~ daysTrunc)$coef %>% print
usaLm = lm(usaTrunc ~ daysTrunc)$coef %>% print
abline(italyLm, col = 'red')
abline(usaLm, col = 'blue')
library(data.table)
library(tidyr)
covid19Timeseries = fread("~/GitHub/COVID-19/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv")
italy = covid19Timeseries[`Country/Region` == "Italy", -c(1:4)] %>% colSums
usa = covid19Timeseries[`Country/Region` == "US", -c(1:4)] %>% colSums
days = 1:58
italyPop = 60.48
usaPop = 327
plot(days, italy/italyPop, type = 'b', col  = "red")
lines(days, usa/usaPop, type = 'b', col= "blue")
italyTrunc = log(italy[-c(1:30)])
usaTrunc = log(usa[-c(1:30)])
daysTrunc = days[-c(1:30)] - 30
plot(daysTrunc, italyTrunc, type = 'b', col  = "red", ylim = c(0, 15))
lines(daysTrunc,usaTrunc, type = 'b', col= "blue")
italyLm = lm(italyTrunc ~ daysTrunc) %>% print
usaLm = lm(usaTrunc ~ daysTrunc) %>% print
abline(italyLm$coef, col = 'red')
abline(usaLm$coef, col = 'blue')
library(data.table)
library(tidyr)
install.packages("tidyr")
library(tidyr)
library(data.table)
library(tidyr)
covid19Timeseries = fread("~/GitHub/COVID-19/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv")
italy = covid19Timeseries[`Country/Region` == "Italy", -c(1:4)] %>% colSums
usa = covid19Timeseries[`Country/Region` == "US", -c(1:4)] %>% colSums
days = 1:58
italyPop = 60.48
usaPop = 327
plot(days, italy/italyPop, type = 'b', col  = "red")
lines(days, usa/usaPop, type = 'b', col= "blue")
italyTrunc = log(italy[-c(1:30)])
usaTrunc = log(usa[-c(1:30)])
daysTrunc = days[-c(1:30)] - 30
plot(daysTrunc, italyTrunc, type = 'b', col  = "red", ylim = c(0, 15))
lines(daysTrunc,usaTrunc, type = 'b', col= "blue")
italyLm = lm(italyTrunc ~ daysTrunc) %>% print
usaLm = lm(usaTrunc ~ daysTrunc) %>% print
abline(italyLm$coef, col = 'red')
abline(usaLm$coef, col = 'blue')
library(tidyr)
library(pkgconfig)
library(tidyr)
library(data.table)
library(tidyr)
covid19Timeseries = fread("~/GitHub/COVID-19/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv")
italy = covid19Timeseries[`Country/Region` == "Italy", -c(1:4)] %>% colSums
usa = covid19Timeseries[`Country/Region` == "US", -c(1:4)] %>% colSums
days = 1:58
italyPop = 60.48
usaPop = 327
plot(days, italy/italyPop, type = 'b', col  = "red")
lines(days, usa/usaPop, type = 'b', col= "blue")
italyTrunc = log(italy[-c(1:30)])
usaTrunc = log(usa[-c(1:30)])
daysTrunc = days[-c(1:30)] - 30
plot(daysTrunc, italyTrunc, type = 'b', col  = "red", ylim = c(0, 15))
lines(daysTrunc,usaTrunc, type = 'b', col= "blue")
italyLm = lm(italyTrunc ~ daysTrunc)
usaLm = lm(usaTrunc ~ daysTrunc)
abline(italyLm$coef, col = 'red')
abline(usaLm$coef, col = 'blue')
covid19Timeseries = fread("~/GitHub/COVID-19/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv")
italy = covid19Timeseries[`Country/Region` == "Italy", -c(1:4)] %>% colSums
usa = covid19Timeseries[`Country/Region` == "US", -c(1:4)] %>% colSums
library(data.table)
library(tidyr)
covid19Timeseries = fread("~/GitHub/COVID-19/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv")
italy = colsums(covid19Timeseries[`Country/Region` == "Italy", -c(1:4)] )
usa = colSums(covid19Timeseries[`Country/Region` == "US", -c(1:4)])
days = 1:58
italyPop = 60.48
usaPop = 327
plot(days, italy/italyPop, type = 'b', col  = "red")
lines(days, usa/usaPop, type = 'b', col= "blue")
italyTrunc = log(italy[-c(1:30)])
usaTrunc = log(usa[-c(1:30)])
daysTrunc = days[-c(1:30)] - 30
plot(daysTrunc, italyTrunc, type = 'b', col  = "red", ylim = c(0, 15))
lines(daysTrunc,usaTrunc, type = 'b', col= "blue")
italyLm = lm(italyTrunc ~ daysTrunc)
usaLm = lm(usaTrunc ~ daysTrunc)
abline(italyLm$coef, col = 'red')
abline(usaLm$coef, col = 'blue')
italy = colsums(covid19Timeseries[`Country/Region` == "Italy", -c(1:4)] )
usa = colSums(covid19Timeseries[`Country/Region` == "US", -c(1:4)])
italy = colSums(covid19Timeseries[`Country/Region` == "Italy", -c(1:4)] )
usa = colSums(covid19Timeseries[`Country/Region` == "US", -c(1:4)])
days = 1:58
italyPop = 60.48
usaPop = 327
plot(days, italy/italyPop, type = 'b', col  = "red")
lines(days, usa/usaPop, type = 'b', col= "blue")
usaTrunc = log(usa[-c(1:30)])
daysTrunc = days[-c(1:30)] - 30
italyTrunc = log(italy[-c(1:30)])
plot(daysTrunc, italyTrunc, type = 'b', col  = "red", ylim = c(0, 15))
lines(daysTrunc,usaTrunc, type = 'b', col= "blue")
italyLm = lm(italyTrunc ~ daysTrunc)
usaLm = lm(usaTrunc ~ daysTrunc)
abline(italyLm$coef, col = 'red')
abline(usaLm$coef, col = 'blue')
usaLm
summary(usaLm)
2/usaLm$coefficients[2]
usa
ratioDiff = function(vec){
n = length(vec)
diffs = numeric(n - 1)
for(i in 2:n){
diffs[i] = vec[i]/vec[i - 1]
}
}
ratioDiff(usa)
ratioDiff = function(vec){
n = length(vec)
diffs = numeric(n - 1)
for(i in 2:n){
diffs[i] = vec[i]/vec[i - 1]
}
return(diffs)
}
ratioDiff(usa)
ratioDiff(usa)[-c(1:20)]
ratioDiff(usa)[-c(1:30)]
mean(ratioDiff(usa)[-c(1:30)])
confint(usaLm)
confint(usaLm)[2,]
2 / confint(usaLm)[2,]
